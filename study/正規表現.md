# 正規表現

文字列のパターンを表現するための記法です。正規表現は、文字列の検索や置換、分割などの操作に利用されます。

## 正規表現の基本

- ^: 行の先頭
- $: 行の末尾
- .: 改行文字を除く任意の1文字
- *: 直前の文字の0回以上の繰り返し
- +: 直前の文字の1回以上の繰り返し
- ?: 直前の文字の0回または1回の繰り返し
- {n}: 直前の文字のn回の繰り返し
- {n,}: 直前の文字のn回以上の繰り返し
- {n,m}: 直前の文字のn回以上m回以下の繰り返し
- []: 文字クラス
  - `[a-z]`: aからzまでの1文字
  - `[A-Z]`: AからZまでの1文字
  - `[0-9]`: 0から9までの1文字
  - `[a-zA-Z0-9]`: aからz、AからZ、0から9のいずれか1文字
  - `[^a-z]`: aからz以外の1文字 ※^は否定
  - `[ade]`: aまたはdまたはeのいずれか1文字
- |: 複数のパターンのいずれか
  - a|b: aまたはb
- (): グループ化
  - (abc): abc
  - (abc)+: abcの1回以上の繰り返し
  - (abc|def)? : abcまたはdefの0回または1回の繰り返し
- \d: 数字（`[0-9]`）
- \D: 数字（`[0-9]`）以外
- \w: 英数字とアンダースコア（`[a-zA-Z0-9_]`）
- \W: 英数字とアンダースコア（`[a-zA-Z0-9_]`）以外
- \s: 空白文字（半角スペース、タブ、改行など）
- \S: 空白文字（スペース、タブ、改行など）以外
- \: 正規表現の記号をエスケープ

```
// 例 ※javaなので、""内は\を\\にする
// 先頭と末尾が一致するか
String regex = "^abc$";

// abcの前後が任意の文字列
String regex = ".*abc.*";

// 1回以上の繰り返し
String regex = "abc+";

// 0回または1回の繰り返し
String regex = "abc?";

// 3~4桁の数字
String regex = "^[0-9]{3,4}$";

// aまたはbの3回の繰り返し
String regex = "^(a|b){3}$";

// \dまたは\wの1回以上の繰り返し
String regex = "^[\\d\\w]+$";

// 空白文字を含む
String regex = ".*\\s.*";
```


## 正規表現の脆弱性
正規表現は強力なツールですが、誤った使い方をすると脆弱性を引き起こす可能性があります
- **ReDoS（正規表現によるサービス拒否攻撃）**: 複雑な正規表現を使用すると、特定の入力に対して処理が非常に遅くなることがあります。
繰り返し試行されることにより、システムが過負荷になり、サービスが利用できなくなる可能性があります。

https://qiita.com/flat-field/items/f5b0c803ba0b7030d97a
